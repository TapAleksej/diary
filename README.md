# dos-29-diplomas-projects

## Telegram бот "Дневник читателя"
Telegram-бот для ведения личного книжного дневника с PostgreSQL, поддерживает добавление, поиск, отображение с пагинацией, редактирование, удаление, статистика по месяцам. Проект включает в себя web-ui на FastAPI.

### Структура
```
├── bot # файлы бота
├── sql # скрипт инициализации БД
└── web-ui # файлы графического интерфейса
```
### Бот
#### Функционал
- Добавление книги одной командой `/add <название>, <автор>, <жанр>, <статус>`
- Отображение списка книг с пагинацией (по 10 книг на страницу) `/list [номер_страницы]`
- Поиск книг по названию или автору `/search <текст>`
- Редактирование записи `/edit <id>, поле=значение,...`
- Удаление книги `/delete <id>`
- Вывод статистики по прочитанным книгам `/stats`

#### Проверка работы бота
- Отправить в Telegram команду `/start` для начала работы.
- Добавить книгу простой командой `/add` (`/add Идиот, Достоевский, роман, прочитан`)
- Просмотр списка через list
- Запрос статистики по прочитанным книгам за последний месяц `/stats`.

### UI
#### Функционал
- добавление книг в библиотеку
- просмотр списка книг с фильтрацией
- обновление информации о книгах
- удаление книг
- отслеживание статуса чтения (прочитано, читаю, в планах)
- веб-интерфейс для удобной работы

#### Эндпоинты

| Method | URL | Dexcription |
|:---:|:---:|:---:|
| GET | /api/books/ | получить список книг |
| GET | /api/books/{id} | получить книгу по ID |
| POST | /api/books/ | создать новую книгу |
| PUT | /api/books/{id} | обновить книгу |
| DELETE | /api/books/{id} | удалить книгу|

#### Проверка функционала API
```bash
# добавить книгу
curl -X POST "http://localhost:8000/api/books/" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "title": "Преступление и наказание",
    "author": "Фёдор Достоевский",
    "genre": "Классика",
    "status": "прочитано"
  }'

# получить список книг по статусу
curl "http://localhost:8000/api/books/?user_id=1&status=прочитано"
```


curl http://localhost/api/books/?user_id=1&status=прочитано

curl -X POST "http://localhost/api/books" \
  -H "Content-Type: application/json" \
  -d '{
    "user_id": 1,
    "title": "Преступление и наказание",
    "author": "Фёдор Достоевский",
    "genre": "Классика",
    "status": "прочитано"
  }'